{
    UI::OpenDialog(
	       `VBox(
		     `ProgressBar(`id(`pr), "This is a progressbar", 4, 0), // 4 steps
		     `PushButton("Next")
		     )
	       );
 
    integer prog = 0;
    
    while (prog < 4) 
    {
	UI::UserInput();
	prog = prog + 1;
	UI::ChangeWidget(`id(`pr), `Value, prog);
	UI::ChangeWidget(`id(`pr), `Label, sformat("Progress %1 out of 4", prog));
    }
    
    UI::CloseDialog();
}
