
# ---------------------------------------------------------
#
#  Filename:	Builtin-String.ycp
#
#  Purpose:	test cases for all string builtins
#
# ---------------------------------------------------------


("** size **")

(size (""))
(size ("linux"))


("** plus **")

("YaST" + "2")
("YaST" + 2)
("YaST" + .two)
{textdomain "base" ; return _("YaST") + "2" ; }
{textdomain "base" ; return "The " + _("YaST") ; }


("** equality **")

("YaST2" == "YaST2")
("YaST2" == "yast2")


("** inequality **")

("YaST2" != "yast2")
("YaST2" != "YaST2")


("** issubstring **")

(issubstring ("some text", "tex"))
(issubstring ("some text", "no"))


("** substring **")

(substring ("some text", 5))
(substring ("some text", 42))

(substring ("some text", 5, 2))
(substring ("some text", 42, 2))


("** mergestring **")

(mergestring (["", "abc", "dev", "ghi"], "/"))
(mergestring (["abc", "dev", "ghi", ""], "/"))
(mergestring ([1, "a", 3], "."))
(mergestring ([], "."))
(mergestring (["abc", "dev", "ghi"], ""))
(mergestring (["abc", "dev", "ghi"], "123"))


("** deletechars **")

(deletechars ("1a2b3c", "abc"))
(deletechars ("1a2b3c", ""))
(deletechars ("", "abc"))
(deletechars ("", ""))


("** filterchars **")

(filterchars ("1a2b3c", "abc"))
(filterchars ("1a2b3c", ""))
(filterchars ("", "abc"))
(filterchars ("", ""))


("** crypt  -  disabled **")

//(crypt ("readable"))
//(cryptmd5 ("readable"))


("** tolower and toascii **")

(tolower ("aBcDeF"))
(toascii ("aÖBÄc"))


("** find et.al. **")

(find ("abcdefghi", "efg"))
(find ("aaaaa", "z"))

(findfirstnotof ("abcdefghi", "abcefghi"))
(findfirstnotof ("aaaaa", "a"))
(findfirstof ("abcdefghi", "cxdv"))
(findfirstof ("aaaaa", "z"))
(findlastof ("abcdecfghi", "cxdv"))
(findlastof ("aaaaa", "z"))


("** regex **")

(regexpmatch ("aaabbb", "ab") == true)
(regexpmatch ("aaabbb", "ba") == false)
(regexpmatch ("aaabbb", ".*ab.*") == true)
(regexpmatch ("aaabbb", ".*ba.*") == false)

(regexpsub ("aaabbb", "(.*ab).*", "s_\\1_e") == "s_aaab_e")
(regexpsub ("aaabbb", "(.*abb)(.*)", "s_\\1_e\\2") == "s_aaabb_eb")

(regexptokenize ("aaabbBb", "(.*[A-Z]).*") == [ "aaabbB" ])
(regexptokenize ("aaabbb", "(.*ab)(.*)") == ["aaab", "bb"])
(regexptokenize ("aaabbb", "(.*ba).*") == [])
(regexptokenize ("aaabbb", "(.*ba).*()") == [])


("** sformat **")

(sformat ("%2 is greater %% than %1", 3, "five"))


("** conversions **")

(tostring (tofloat (63), 4))
(tostring (0.12345, 4))
(tohexstring (31))

